swagger: '2.0'
info:
  description: |
    Dataleon Platform API is structured around REST. Having predictable resource-oriented URLs, our APIs accept form-encoded request bodies, return JSON responses, and use standard HTTP response codes, authentication, and verbs.
    
    ### Supported document formats
    Dataleon currently supports PNG, JPEG, and PDF formats.

    ### File size
    Image files sent to the Dataleon API should not exceed 100 MB (4 MB for the free tier). Reducing your file size can significantly improve throughput; however, be careful not to reduce image quality in the process.
    
    ### Image and PDF requirements
    - For PDF and TIFF files, up to 2000 pages (only first two pages for the free tier) are processed.
    - Dimensions at least 50 x 50 pixels and at most 10000 x 10000 pixels.
    - The PDF dimensions must be at most 17 x 17 inches, corresponding to legal or A3 paper sizes and smaller.

  version: 4.0.0
  title: Dataleon - API Reference
  termsOfService: https://dataleon.ai/terms-of-use
  contact:
    email: support@dataleon.ai

tags:
- name: KYC
  description: APIs for extract verify identity document for KYC service
  
- name: KYB
  description: APIs for extract verify identity document for KYB service

- name: Accounting
  description: APIs for extract data on accounting documents
 
# schemes:
# - http
paths:

  /identity-request:
    post:
      tags:
      - KYC
      summary: Generate a unique URL for identifying your user.
      description: This endpoint enables your application to generate a unique identification URL that can be returned to initiate the KYC (Know Your Customer), KYB (Know Your Business), and AML (Anti-Money Laundering) processes.
      consumes:
      - application/json
      - multipart/form-data
      produces:
      - application/json
      parameters:
      - name: workspace_id
        in: formData
        description: Add your workspace_id
        required: false
        type: string
        default: "{{workspace_id}}"
      - name: callback_url
        in: formData
        description: Offline processing URL
        required: false
        type: string
        default: "{{callback_url}}"
      - name: callback_url_notification
        in: formData
        description: Offline processing URL notification when status updated
        required: false
        type: string
        default: "{{callback_url_notification}}"
      - name: path
        in: formData
        description: Application for processing data
        required: true
        type: string
        default: /kyc-verification
      - name: first_name
        in: formData
        description: User first name data on your system
        required: true
        type: string
      - name: last_name
        in: formData
        description: User last name data on your system
        required: true
        type: string
      - name: country
        in: formData
        description: User country on your system
        required: false
        type: string
      - name: birthday
        in: formData
        description: User birthday on your system
        required: false
        type: string
      - name: phone_number
        in: formData
        description: User sms phone number to send link to user Exemple (+33766XXXXXX)
        required: false
        type: string
      - name: qr_code
        in: formData
        description: active QR code link ("true" or "false")
        required: false
        type: string
      - name: client_id
        in: formData
        description: User id on your system
        required: false
        type: string
      - name: tags
        in: formData
        description: Additionnals informations on JSON format
        required: false
        type: string
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/Request'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []
  /identity-notity/{Id}:
    post:
      tags:
      - KYC
      summary: Send a new SMS to the end-user.
      description:  This endpoint allows you to send a new SMS notification to the end-user using the provided request ID. The notification is used to notify the user of any updates or actions required to complete a process. By sending a new SMS, you can ensure that the end-user receives the latest information and can take the necessary steps to complete the process. This endpoint is useful for ensuring that the end-user is informed and up-to-date throughout the process.
      consumes:
      - application/json
      - multipart/form-data
      produces:
      - application/json
      parameters:
      - name: Id
        in: path
        description: ID of identity task
        required: true
        type: string
      - name: workspace_id
        in: formData
        description: Add your workspace_id
        required: true
        type: string
        default: "{{workspace_id}}"
      - name: phone_number
        in: formData
        description: User sms phone number to send link to user Exemple (+33766XXXXXX)
        required: false
        type: string
      - name: qr_code
        in: formData
        description: active QR code link ("true" or "false")
        required: false
        type: string
      - name: document_country
        in: formData
        description: User selected field data on your system, ISO2 code Exemple FR
        required: true
        type: string
      - name: document_type
        in: formData
        description: (id, por, passport, or permis)
        required: true
        type: string
      - name: document_face
        in: formData
        description: face of document expected (recto or verso)
        required: true
        type: string
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/Request'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        404:
          description: The requested workfow doesn't exist.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []
  /identity-document/quality:
    post:
      tags:
      - KYC
      summary: Extract data from identity documents for verification.
      description: This endpoint extracts data from identity documents submitted by users. By sending a POST request with the document, this endpoint processes and extracts relevant information for KYC (Know Your Customer) verification, enabling secure and efficient identity verification.
      consumes:
      - application/json
      - multipart/form-data
      produces:
      - application/json
      parameters:
      - name: workspace_id
        in: formData
        description: Add your workspace_id
        required: false
        type: string
        default: "{{workspace_id}}"
      - name: first_name
        in: formData
        description: User first name data on your system
        required: true
        type: string
      - name: last_name
        in: formData
        description: User last name data on your system
        required: true
        type: string
      - name: birthday
        in: formData
        description: User birthday on your system
        required: false
        type: string
      - name: tags
        in: formData
        description: Additionnals informations on JSON format
        required: false
        type: string
      - name: document_country
        in: formData
        description: User selected field data on your system, ISO2 code Exemple FR
        required: true
        type: string
      - name: document_type
        in: formData
        description: (id, por, passport, or permis)
        required: true
        type: string
      - name: document_face
        in: formData
        description: face of document expected (recto or verso)
        required: true
        type: string
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/KYC'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []

  /identity-document/anaylze:
    post:
      tags:
      - KYC
      summary: Extract data from identity documents for verification.
      description: This endpoint extracts data from identity documents submitted by users. By sending a POST request with the document, this endpoint processes and extracts relevant information for KYC (Know Your Customer) verification, enabling secure and efficient identity verification.
      consumes:
      - application/json
      - multipart/form-data
      produces:
      - application/json
      parameters:
      - name: workspace_id
        in: formData
        description: Add your workspace_id
        required: false
        type: string
        default: "{{workspace_id}}"
      - name: first_name
        in: formData
        description: User first name data on your system
        required: true
        type: string
      - name: last_name
        in: formData
        description: User last name data on your system
        required: true
        type: string
      - name: birthday
        in: formData
        description: User birthday on your system
        required: false
        type: string
      - name: tags
        in: formData
        description: Additionnals informations on JSON format
        required: false
        type: string
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/KYC'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []
      
  /company-request:
    post:
      tags:
      - KYB
      summary: Generate a unique URL for business verification.
      description: This endpoint generates a unique URL for business verification. By sending a POST request, you receive a URL that can be used to initiate the KYB (Know Your Business) process, allowing for secure and efficient verification of business entities.
      consumes:
      - application/json
      - multipart/form-data
      produces:
      - application/json
      parameters:
      - name: workspace_id
        in: formData
        description: Add your workspace_id
        required: false
        type: string
        default: "{{workspace_id}}"
      - name: callback_url
        in: formData
        description: Offline processing URL
        required: false
        type: string
        default: "{{callback_url}}"
      - name: callback_url_notification
        in: formData
        description: Offline processing URL notification when status updated
        required: false
        type: string
        default: "{{callback_url_notification}}"
      - name: path
        in: formData
        description: Application for processing data
        required: true
        type: string
        default: /kyb-verification
      - name: siren
        in: formData
        description: Company siren data on your system
        required: true
        type: string
      - name: qr_code
        in: formData
        description: active QR code link ("true" or "false")
        required: false
        type: string
      - name: client_id
        in: formData
        description: User id on your system
        required: false
        type: string
      - name: tags
        in: formData
        description: Additionnals informations on JSON format
        required: false
        type: string
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/Request'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []
  /rib:
    post:
      tags:
      - KYB
      summary: Extract data from RIB for business verification.
      description: This endpoint extracts data from RIB (Relevé d'Identité Bancaire) documents submitted for business verification. By sending a POST request with the RIB document, this endpoint processes and extracts relevant information for KYB (Know Your Business) purposes, facilitating accurate and efficient business verification.
      consumes:
      - application/json
      - multipart/form-data
      produces:
      - application/json
      parameters:
      - name: workspace_id
        in: formData
        description: Add your workspace_id
        required: false
        type: string
        default: "{{workspace_id}}"
      - name: callback_url
        in: formData
        description: Offline processing URL
        required: false
        type: string
        default: "{{callback_url}}"
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/KYC'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []
  /kbis:
    post:
      tags:
      - KYB
      summary: Extract data from KBIS for business verification.
      description: This endpoint extracts data from KBIS (K-BIS) documents submitted for business verification. By sending a POST request with the KBIS document, this endpoint processes and extracts relevant information for KYB (Know Your Business) purposes, enabling accurate and efficient business verification.
      consumes:
      - application/json
      - multipart/form-data
      produces:
      - application/json
      parameters:
      - name: workspace_id
        in: formData
        description: Add your workspace_id
        required: false
        type: string
        default: "{{workspace_id}}"
      - name: callback_url
        in: formData
        description: Offline processing URL
        required: false
        type: string
        default: "{{callback_url}}"
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/KYC'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []
  /liasse-fiscale:
    post:
      tags:
      - KYB
      summary: Generate financial reports for tax purposes.
      description: This endpoint allows you to generate financial reports, known as "liasse fiscale" in French, for tax purposes. By sending a POST request to this endpoint with the necessary information, such as the accounting data and tax information, you can generate a report that summarizes the financial activity of your business for a given tax period. This report is required by French law for businesses operating in France and must be submitted to the tax authorities annually. This endpoint is useful for automating the process of generating financial reports and ensuring compliance with tax regulations.
      consumes:
      - application/json
      - multipart/form-data
      produces:
      - application/json
      parameters:
      - name: file
        in: formData
        description: File to upload
        required: true
        type: file
      - name: workspace_id
        in: formData
        description: Add your workspace_id
        required: true
        type: string
        default: "{{workspace_id}}"
      - name: callback_url
        in: formData
        description: Offline processing
        required: false
        type: string
        default: "{{callback_url}}"
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/Liasse'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []
  /liasse-fiscale/rt:
    post:
      tags:
      - KYB
      summary: Generate financial reports for tax purposes in real time.
      description: This endpoint allows you to generate financial reports, known as "liasse fiscale" in French, for tax purposes. By sending a POST request to this endpoint with the necessary information, such as the accounting data and tax information, you can generate a report that summarizes the financial activity of your business for a given tax period. This report is required by French law for businesses operating in France and must be submitted to the tax authorities annually. This endpoint is useful for automating the process of generating financial reports and ensuring compliance with tax regulations.
      consumes:
      - application/json
      - multipart/form-data
      produces:
      - application/json
      parameters:
      - name: file
        in: formData
        description: File to upload
        required: true
        type: file
      - name: workspace_id
        in: formData
        description: Add your workspace_id
        required: true
        type: string
        default: "{{workspace_id}}"
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/Liasse'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []
  /bank-statements:
    post:
      tags:
      - KYB
      - Accounting
      summary: Retrieve bank statement data for financial analysis and reporting.
      description: This endpoint allows you to retrieve bank statement data for financial analysis and reporting. By sending a POST request to this endpoint with the necessary information, such as the bank account number and time period, you can retrieve bank statement data that can be used for various financial services purposes, such as analyzing spending patterns, identifying fraud, or generating financial reports. This endpoint is particularly useful for financial institutions, credit bureaus, or other businesses that need to process large volumes of bank statement data. The retrieved data can be used to gain insights into customer behavior or improve financial reporting accuracy.
      consumes:
      - application/json
      - multipart/form-data
      produces:
      - application/json
      parameters:
      - name: file
        in: formData
        description: File to upload
        required: true
        type: file
      - name: workspace_id
        in: formData
        description: Add your workspace_id
        required: true
        type: string
        default: "{{workspace_id}}"
      - name: callback_url
        in: formData
        description: Offline processing URL
        required: false
        type: string
        default: "{{callback_url}}"
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/Transaction'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []
  /loan-amortization-schedule:
    post:
      tags:
      - KYB
      summary: Retrieve loan amortization schedule data for financial analysis and reporting.
      description: This endpoint retrieves loan amortization schedule data for financial analysis and reporting. You can send a POST request with details like loan account number and time period to get data for financial services, such as analyzing repayment patterns or generating reports. Useful for financial institutions and businesses needing to process large volumes of loan data.
      consumes:
      - application/json
      - multipart/form-data
      produces:
      - application/json
      parameters:
      - name: file
        in: formData
        description: File to upload
        required: true
        type: file
      - name: workspace_id
        in: formData
        description: Add your workspace_id
        required: true
        type: string
        default: "{{workspace_id}}"
      - name: callback_url
        in: formData
        description: Offline processing URL
        required: false
        type: string
        default: "{{callback_url}}"
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/Transaction'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []
  /proof-of-address:
    post:
      tags:
      - KYB
      summary: Verify the current residential address of your user.
      description: This endpoint enables you to validate the current residence of your user by submitting a proof of address document, such as a utility bill or a bank statement. The proof of address document will be verified as part of the KYC (Know Your Customer),  (Know Your Business), and AML (Anti-Money Laundering) processes, ensuring compliance with regulatory requirements.
      consumes:
      - application/json
      - multipart/form-data
      produces:
      - application/json
      parameters:
      - name: file
        in: formData
        description: File to upload
        required: true
        type: file
      - name: workspace_id
        in: formData
        description: Add your workspace_id
        required: true
        type: string
        default: "{{workspace_id}}"
      - name: full_name
        in: formData
        description: User full name data on your system
        required: false
        type: string
      - name: address
        in: formData
        description: User address data on your system
        required: false
        type: string
      - name: company_name
        in: formData
        description: User company name on your system
        required: false
        type: string
      - name: country
        in: formData
        description: User country on your system
        required: false
        type: string
      - name: expirations_months
        in: formData
        description: Limitation expiration (3 months default)
        required: false
        type: string
        default: 3
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/KYC'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []

  /invoice:
    post:
      tags:
      - Accounting
      summary: Extract entities from an invoice using OCR.
      description: This endpoint allows you to extract entities from an invoice using OCR (Optical Character Recognition) technology. Entities can include information such as the customer name, invoice number, date, and total amount due. By sending a POST request to this endpoint with an invoice image, the OCR technology will extract the relevant entities and return them in a structured format. This endpoint is useful for automating the data extraction process and improving the accuracy of your accounting operations. The extracted entities can be used for tasks such as record-keeping, payment tracking, and tax purposes.
      consumes:
      - application/json
      - multipart/form-data
      produces:
      - application/json
      parameters:
      - name: file
        in: formData
        description: File to upload
        required: true
        type: file
      - name: workspace_id
        in: formData
        description: Add your workspace_id
        required: true
        type: string
        default: "{{workspace_id}}"
      - name: callback_url
        in: formData
        description: Offline processing URL
        required: false
        type: string
        default: "{{callback_url}}"
      - name: table
        in: formData
        description: Table processing with column
        required: false
        type: string
        default: "false"
      - name: rotate
        in: formData
        description: Rotate document
        required: false
        type: string
        default: "false"
      - name: splitting_document
        in: formData
        description: split strategy activation
        required: false
        type: string
        default: "false"
      - name: split_strategy
        in: formData
        description: split strategy document
        required: false
        type: string
        default: "id"
      - name: tags
        in: formData
        description: Additionnals informations on JSON format
        required: false
        type: string
        default: "[]"
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/Accounting'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []
  /receipt:
    post:
      tags:
      - Accounting
      summary: Extract entities from receipts for accounting purposes.
      description: This endpoint allows you to extract entities, such as vendor names, dates, and total amounts due, from receipts for accounting purposes. By sending a POST request to this endpoint with the necessary information, such as the image file of the receipt, you can perform OCR extraction to automate the data extraction process and improve the accuracy of your accounting operations. The extracted entities can be used for tasks such as record-keeping, payment tracking, and tax purposes. This endpoint is useful for streamlining your accounting process and reducing manual data entry.
      consumes:
      - application/json
      - multipart/form-data
      produces:
      - application/json
      parameters:
      - name: file
        in: formData
        description: File to upload
        required: true
        type: file
      - name: workspace_id
        in: formData
        description: Add your workspace_id
        required: true
        type: string
        default: "{{workspace_id}}"
      - name: callback_url
        in: formData
        description: Offline processing URL
        required: false
        type: string
        default: "{{callback_url}}"
      - name: rotate
        in: formData
        description: Rotate document
        required: false
        type: string
        default: "false"
      - name: cutting
        in: formData
        description: cutting receipt
        required: false
        type: string
        default: "false"
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/Accounting'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []
  
  /task/{Id}:
    get:
      tags:
      - Operating
      summary: Retrieve the status and data of the request.
      description: This feature allows you to retrieve the status and data of a request using the provided request ID. By providing the request ID, you can check the current status of the request, whether it is pending or complete, and retrieve any relevant data associated with the request. This feature is useful for tracking the progress of a request and obtaining data for further processing or analysis. 
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - name: Id
        in: path
        description: ID of task
        required: true
        type: string
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/ApiResponse'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        404:
          description: The requested workfow doesn't exist.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []
    put:
      tags:
      - Operating
      summary: Update the state, categoryId, and statuts of the request.
      description: This functionality enables users to fetch the current status and pertinent data associated with a specific request using the provided request ID
      consumes:
      - application/json
      - multipart/form-data
      produces:
      - application/json
      parameters:
      - name: Id
        in: path
        description: ID of task
        required: true
        type: string
      - name: state
        in: formData
        required: false
        description: "PROCESSED|EXPIRED"
        type: string
      - name: category_id
        in: formData
        required: false
        type: string
      - name: status_id
        in: formData
        required: false
        type: string
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/ApiResponse'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        404:
          description: The requested workfow doesn't exist.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []
    delete:
      tags:
      - Operating
      summary: Delete data of the request.
      description: This feature allows you to delete data of a request using the provided request ID. By providing the request ID, you can check the current status of the request, whether it is pending or complete, and retrieve any relevant data associated with the request. This feature is useful for tracking the progress of a request and obtaining data for further processing or analysis.
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - name: Id
        in: path
        description: ID of task
        required: true
        type: string
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/ApiResponse'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        404:
          description: The requested workfow doesn't exist.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []
  /tasks:
    get:
      tags:
      - Operating
      summary: Retrieve alls tasks
      description: This feature allows you to retrieve alls tasks
      consumes:
      - application/json
      - multipart/form-data
      produces:
      - application/json
      parameters:
      - name: status
        in: formData
        required: false
        type: string
      - name: limit
        in: formData
        required: false
        type: number
      - name: offset
        in: formData
        required: false
        type: number
      - name: start_date
        in: formData
        required: false
        type: string
      - name: end_date
        in: formData
        required: false
        type: string
      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/ApiResponse'
        401:
          description: No valid API key provided.
        403:
          description: The API key doesn't have permissions to perform the request.
        404:
          description: The requested workfow doesn't exist.
        422:
          description: The server understands the content type of the request entity (hence a 415 Unsupported Media Type status code is inappropriate),
        429:
          description: Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.
      security:
      - api_key: []

securityDefinitions:
  api_key:
    type: apiKey
    name: Api-Key
    in: header

definitions:
  Accounting:
    type: object
    properties:
      entities:
        type: array
        description: "A list of entities detected in the document"
        items:
          type: object
          properties:
            id:
              type: string
              description: "The unique identifier for the entity"
              example: "194e5d63-675c-4975-94ba-d82124b2c914"
            confidence:
              type: number
              description: "The confidence score for the detection"
              example: 0.9984347224235535
            name:
              type: string
              description: "The name of the detected entity"
              example: "FirstName"
            bounding_box:
              type: array
              description: "The coordinates of the bounding box around the detected entity"
              items:
                type: array
                items:
                  type: number
              example: [[-1, 83], [711, 83], [711, 795], [-1, 795]]
            page:
              type: integer
              description: "The page number of the document where the entity was detected"
              example: 1
            document_number:
              type: integer
              description: "The number of the document in a multi-document analysis"
              example: 1
            document_id:
              type: string
              description: "The unique identifier of the document"
              example: "Nxb2bxSBKJnu5KmZulra4YCg-face"
            step:
              type: string
              description: "The step in the document analysis pipeline where the entity was detected"
              example: "step-3"
            action:
              type: string
              description: "The action performed on the detected entity"
              example: "face"
            value:
              type: string
              description: "The value of the detected entity"
              example: "Gérard"
            document_name:
              type: string
              description: "The name of the document file"
              example: "Nxb2bxSBKJnu5KmZulra4YCg-doc.jpg"  
      class:
        type: array
        items:
          type: object
          properties:
            id:
              type: string
              description: The unique identifier associated with the class.
              example: "90a1b06a-4ac5-45d2-a9a4-e5ad1bdef59f"
            confidence:
              type: number
              description: The confidence level associated with the class.
              example: 1
            name:
              type: string
              description: The name of the class.
              example: "Invoice"
            page:
              type: integer
              description: The page number associated with the class.
              example: 1
            document_number:
              type: integer
              description: The document number associated with the class.
              example: 1
            document_id:
              type: string
              description: The unique identifier associated with the document.
              example: "Nxb2bxSBKJnu5KmZulra4YCg-doc"
            step:
              type: string
              description: The step of the class.
              example: "step-3"
            action:
              type: string
              description: The action associated with the class.
              example: "document_type"
            document_name:
              type: string
              description: The name of the document associated with the class.
              example: "Nxb2bxSBKJnu5KmZulra4YCg-doc.jpg"
      metadata: 
        type: object
        properties:
          task_id:
            type: string
            description: The unique identifier for the task
            example: '9dba60fa-0ac8-47b6-a81e-22a7c834f8f6'
          status:
            type: string
            description: The current status of the task
            example: PROCESSED
  
  KYC:
    type: object
    properties:
      entities:
        type: array
        description: "A list of entities detected in the document"
        items:
          type: object
          properties:
            id:
              type: string
              description: "The unique identifier for the entity"
              example: "194e5d63-675c-4975-94ba-d82124b2c914"
            confidence:
              type: number
              description: "The confidence score for the detection"
              example: 0.9984347224235535
            name:
              type: string
              description: "The name of the detected entity"
              example: "FirstName"
            bounding_box:
              type: array
              description: "The coordinates of the bounding box around the detected entity"
              items:
                type: array
                items:
                  type: number
              example: [[-1, 83], [711, 83], [711, 795], [-1, 795]]
            page:
              type: integer
              description: "The page number of the document where the entity was detected"
              example: 1
            document_number:
              type: integer
              description: "The number of the document in a multi-document analysis"
              example: 1
            document_id:
              type: string
              description: "The unique identifier of the document"
              example: "Nxb2bxSBKJnu5KmZulra4YCg-face"
            step:
              type: string
              description: "The step in the document analysis pipeline where the entity was detected"
              example: "step-3"
            action:
              type: string
              description: "The action performed on the detected entity"
              example: "face"
            value:
              type: string
              description: "The value of the detected entity"
              example: "Gérard"
            document_name:
              type: string
              description: "The name of the document file"
              example: "Nxb2bxSBKJnu5KmZulra4YCg-doc.jpg"
      validations:
        type: array
        items:
          type: object
          properties:
            message:
              type: string
              description: The message associated with the validation.
              example: "firstName detected"
            code:
              type: string
              description: The code associated with the validation.
              example: "firstName_match"
            id:
              type: string
              description: The unique identifier associated with the validation.
              example: "30fec0a9-0203-4bbf-b8ff-42e2a3d73933"
            type:
              type: string
              description: The type of validation.
              example: "node"
            document_name:
              type: string
              description: The name of the document associated with the validation.
              example: "Nxb2bxSBKJnu5KmZulra4YCg-face.jpg"
            document_id:
              type: string
              description: The unique identifier associated with the document.
              example: "Nxb2bxSBKJnu5KmZulra4YCg-face"
            step:
              type: string
              description: The step of the validation.
              example: "step-3"
            action:
              type: string
              description: The action associated with the validation.
              example: "firstName_match"
            page:
              type: integer
              description: The page number associated with the validation.
              example: 1
            name:
              type: string
              description: The name of the validation.
              example: "FirstName_match"
            weight:
              type: integer
              description: The weight of the validation.
              example: 1
            validate:
              type: boolean
              description: Indicates whether the validation is to be validated.
              example: true
            type_validation:
              type: string
              description: The type of validation to be performed.
              example: "FirstName_match"
            document_number:
              type: integer
              description: The document number associated with the validation.
              example: 1
      class:
        type: array
        items:
          type: object
          properties:
            id:
              type: string
              description: The unique identifier associated with the class.
              example: "90a1b06a-4ac5-45d2-a9a4-e5ad1bdef59f"
            confidence:
              type: number
              description: The confidence level associated with the class.
              example: 1
            name:
              type: string
              description: The name of the class.
              example: "Invoice"
            page:
              type: integer
              description: The page number associated with the class.
              example: 1
            document_number:
              type: integer
              description: The document number associated with the class.
              example: 1
            document_id:
              type: string
              description: The unique identifier associated with the document.
              example: "Nxb2bxSBKJnu5KmZulra4YCg-doc"
            step:
              type: string
              description: The step of the class.
              example: "step-3"
            action:
              type: string
              description: The action associated with the class.
              example: "document_type"
            document_name:
              type: string
              description: The name of the document associated with the class.
              example: "Nxb2bxSBKJnu5KmZulra4YCg-doc.jpg"
      metadata: 
        type: object
        properties:
          task_id:
            type: string
            description: The unique identifier for the task
            example: '9dba60fa-0ac8-47b6-a81e-22a7c834f8f6'
          status:
            type: string
            description: The current status of the task
            example: PROCESSED
  

  Request:
    type: object
    properties:
      task_id:
        type: string
        description: The unique identifier for the task
        example: '9dba60fa-0ac8-47b6-a81e-22a7c834f8f6'
      status:
        type: string
        description: The current status of the task
        example: WAITING
      link:
        type: string
        description: The link to the task results
        example: https://id.dataleon.ai/w/9dba60fasz
      code:
        type: string
        description: The qr code for the task
        example: iVBORw0KGgoAAAANSUhEUgAAAgg==

  Liasse:
    type: object
    properties:
      entities: 
        type: array
        items: 
          type: object
          properties: 
            id: 
              type: string
              example: 5a9278a60cd211eba1b93a1350d1ea81
            name: 
              type: string
              example: AA
            text: 
              type: string
              example: 12445
            value: 
              type: number
              example: 12445
            confidence: 
              type: number
              example: 0.9
            bounding_box: 
              type: array
              items: 
                type: array
                items: 
                  type: number
                  example: 51

  ApiResponse:
    type: object
    properties:
      status:
        example: "VOID|WAITING|STARTED|RUNNING|PROCESSED|FAILED|ABORTED|EXPIRED"
        type: string
  Transaction:
    type: object
    properties:
      blocks: 
        type: array
        items: 
          type: object
          properties: 
            text: 
              type: string
              example: RELEVE
            bounding_box: 
              type: array
              items: 
                type: array
                items: 
                  type: number
                  example: 84
            id: 
              type: string
              example: b588487d-dead-48bd-ad46-d757fd371b81
      transactions: 
        type: array
        items: 
          type: object
          properties: 
            id: 
              type: string
              example: d93531f0-92b3-4ac8-9334-1ff11d9b6d32
            bounding_box: 
              type: array
              items: 
                type: array
                items: 
                  type: number
                  example: 84.23780696094036
            cells: 
              type: array
              items: 
                type: object
                properties: 
                  confidence: 
                    type: number
                    example: 1
                  id: 
                    type: string
                    example: 5bdaff58-ff4c-4a04-b959-0f35936f69fb
                  name: 
                    type: string
                    example: "date|credit|debit|label"
                  text: 
                    type: string
                    example: 18/08/2020
                  value: 
                    type: string
                    example: 18/08/2020
                  bounding_box: 
                    type: array
                    items: 
                      type: array
                      items: 
                        type: number
                        example: 84.23780696094036
      entities: 
        type: array
        items: 
          type: object
          properties: 
            bounding_box: 
              type: array
              items: 
                type: array
                items: 
                  type: number
                  example: 137
            confidence: 
              type: number
              example: 1
            id: 
              type: string
              example: 79ce4e03-c346-4ede-8843-9341918e4a2c
            name: 
              type: string
              example: bank
            text: 
              type: string
              example: CIC
            value: 
              type: string
              example: CIC


# Added by API Auto Mocking Plugin
host: inference.eu-west-1.dataleon.ai
schemes:
 - https
# Added by API Auto Mocking Plugin
basePath: /
